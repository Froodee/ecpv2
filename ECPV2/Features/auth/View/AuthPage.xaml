<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="ECPV2.Features.auth.View.AuthPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ECPV2.Features.auth.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>

        <StackPanel Margin="60" Spacing="18" HorizontalAlignment="Center" VerticalAlignment="Center">
            <TextBlock Text="Connexion Cabinet" FontSize="32" FontWeight="Bold" 
               HorizontalAlignment="Center" Foreground="#2E7D32"/>

            <TextBox Text="{Binding Login, Mode=TwoWay}" 
             PlaceholderText="Login (email)" Width="340"/>

            <PasswordBox Password="{Binding Password, Mode=TwoWay}" 
                 PlaceholderText="Mot de passe" Width="340"/>

            <!-- Champ PIN : désactivé tant que pas envoyé -->
            <TextBox Text="{Binding Pin, Mode=TwoWay}" 
             PlaceholderText="Code PIN (reçu par mail)" 
             Width="340" 
             IsEnabled="{Binding IsPinSent}"/>

            <StackPanel Orientation="Horizontal" Spacing="15" HorizontalAlignment="Center">
                <Button Content="Obtenir le code PIN" 
    Command="{Binding SendPinCommand}" 
    Width="170"/>
                <Button Content="Se connecter" 
    Command="{Binding ConnectCommand}" 
    Width="170"
    IsEnabled="{Binding IsPinSent}"/>
            </StackPanel>

            <TextBlock Text="{Binding Message}" 
               Foreground="Red" 
               FontWeight="SemiBold" 
               HorizontalAlignment="Center" 
               FontSize="14"/>
        </StackPanel>
    </Grid>
</Page>
